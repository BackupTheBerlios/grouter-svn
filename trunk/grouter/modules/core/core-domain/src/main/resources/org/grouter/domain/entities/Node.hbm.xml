<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping SYSTEM
        "http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd" >
<hibernate-mapping>
  <class name="org.grouter.domain.entities.Node" table="node">
    <id column="ID" name="id" type="java.lang.String">
      <generator class="uuid"/>
    </id>
    <property name="modifiedOn" not-null="false" type="timestamp" column="modifiedon"/>
    <property name="createdOn" not-null="false" type="timestamp" column="createdon"/>
    <property name="name" not-null="false" type="java.lang.String" column="name"/>

    <many-to-one
            name="router"
            not-null="false"
            class="org.grouter.domain.entities.Router"
            column="router_fk"
            cascade="none"
            fetch="join">
    </many-to-one>

    <many-to-one
            name="inBound"
            not-null="false"
            class="org.grouter.domain.entities.EndPoint"
            column="inbound_endpoint_fk"
            cascade="all"
            fetch="join">
    </many-to-one>

    <many-to-one
            name="outBound"
            not-null="false"
            class="org.grouter.domain.entities.EndPoint"
            column="outbound_endpoint_fk"
            cascade="all"
            fetch="join">
    </many-to-one>

  </class>
</hibernate-mapping>
